<?php
// เรียกใช้ไฟล์ config ที่เชื่อมต่อฐานข้อมูลแล้ว
$conn = require __DIR__ . '/../config/db_config.php';

echo "✅ Database connected successfully.<br>";

try {
    $stmt = $conn->prepare("INSERT INTO faculty_program_major (faculty, program, major)
                            VALUES (:faculty, :program, :major)");

    // ------------------ ข้อมูลทั้งหมด ------------------
    $data = [
        // คณะครุศาสตร์
        ['คณะครุศาสตร์', 'หลักสูตรศึกษาศาสตรบัณฑิต', 'การศึกษาปฐมวัย'],
        ['คณะครุศาสตร์', 'หลักสูตรศึกษาศาสตรบัณฑิต', 'การประถมศึกษา'],

        // คณะวิทยาศาสตร์และเทคโนโลยี
        ['คณะวิทยาศาสตร์และเทคโนโลยี', 'หลักสูตรวิทยาศาสตรบัณฑิต', 'เทคโนโลยีสารสนเทศ'],
        ['คณะวิทยาศาสตร์และเทคโนโลยี', 'หลักสูตรวิทยาศาสตรบัณฑิต', 'สิ่งแวดล้อมเมืองและอุตสาหกรรม'],
        ['คณะวิทยาศาสตร์และเทคโนโลยี', 'หลักสูตรวิทยาศาสตรบัณฑิต', 'วิทยาศาสตร์เครื่องสำอาง'],
        ['คณะวิทยาศาสตร์และเทคโนโลยี', 'หลักสูตรวิทยาศาสตรบัณฑิต', 'อาชีวอนามัยและความปลอดภัย'],
        ['คณะวิทยาศาสตร์และเทคโนโลยี', 'หลักสูตรวิทยาศาสตรบัณฑิต', 'เทคโนโลยีเคมี'],
        ['คณะวิทยาศาสตร์และเทคโนโลยี', 'หลักสูตรวิทยาศาสตรบัณฑิต', 'วิทยาการคอมพิวเตอร์'],
        ['คณะวิทยาศาสตร์และเทคโนโลยี', 'หลักสูตรศึกษาศาสตรบัณฑิต', 'คณิตศาสตร์'],
        ['คณะวิทยาศาสตร์และเทคโนโลยี', 'หลักสูตรศึกษาศาสตรบัณฑิต', 'ฟิสิกส์'],
        ['คณะวิทยาศาสตร์และเทคโนโลยี', 'หลักสูตรวิทยาศาสตรบัณฑิต', 'ความมั่นคงปลอดภัยไซเบอร์'],

        // คณะวิทยาการจัดการ
        ['คณะวิทยาการจัดการ', 'หลักสูตรบัญชีบัณฑิต', 'การบัญชี'],
        ['คณะวิทยาการจัดการ', 'หลักสูตรบริหารธุรกิจบัณฑิต', 'การเงิน'],
        ['คณะวิทยาการจัดการ', 'หลักสูตรบริหารธุรกิจบัณฑิต', 'การตลาด'],
        ['คณะวิทยาการจัดการ', 'หลักสูตรการจัดการบัณฑิต', 'การจัดการ'],
        ['คณะวิทยาการจัดการ', 'หลักสูตรบริหารธุรกิจบัณฑิต', 'การบริการลูกค้า'],
        ['คณะวิทยาการจัดการ', 'หลักสูตรบริหารธุรกิจบัณฑิต', 'การจัดการธุรกิจค้าปลีก'],
        ['คณะวิทยาการจัดการ', 'หลักสูตรบริหารธุรกิจบัณฑิต', 'การจัดการทรัพยากรมนุษย์'],
        ['คณะวิทยาการจัดการ', 'หลักสูตรบริหารธุรกิจบัณฑิต', 'คอมพิวเตอร์ธุรกิจ'],
        ['คณะวิทยาการจัดการ', 'หลักสูตรบริหารธุรกิจบัณฑิต', 'ธุรกิจระหว่างประเทศ'],
        ['คณะวิทยาการจัดการ', 'หลักสูตรนิเทศศาสตรบัณฑิต', 'นิเทศศาสตร์'],
        ['คณะวิทยาการจัดการ', 'หลักสูตรบริหารธุรกิจบัณฑิต', 'เลขานุการทางการแพทย์'],

        // คณะมนุษยศาสตร์และสังคมศาสตร์
        ['คณะมนุษยศาสตร์และสังคมศาสตร์', 'หลักสูตรศิลปศาสตรบัณฑิต', 'ภาษาอังกฤษธุรกิจ'],
        ['คณะมนุษยศาสตร์และสังคมศาสตร์', 'หลักสูตรศิลปศาสตรบัณฑิต', 'จิตวิทยาอุตสาหกรรมและองค์การ'],
        ['คณะมนุษยศาสตร์และสังคมศาสตร์', 'หลักสูตรศิลปศาสตรบัณฑิต', 'ภาษาไทย'],
        ['คณะมนุษยศาสตร์และสังคมศาสตร์', 'หลักสูตรศิลปศาสตรบัณฑิต', 'ภาษาอังกฤษ'],
        ['คณะมนุษยศาสตร์และสังคมศาสตร์', 'หลักสูตรศิลปศาสตรบัณฑิต', 'ภาษาจีน'],
        ['คณะมนุษยศาสตร์และสังคมศาสตร์', 'หลักสูตรศึกษาศาสตรบัณฑิต', 'ศิลปศึกษา'],
        ['คณะมนุษยศาสตร์และสังคมศาสตร์', 'หลักสูตรศิลปศาสตรบัณฑิต', 'บรรณารักษศาสตร์และสารสนเทศศาสตร์'],
        ['คณะมนุษยศาสตร์และสังคมศาสตร์', 'หลักสูตรนิติศาสตรบัณฑิต', 'นิติศาสตร์'],

        // คณะพยาบาลศาสตร์
        ['คณะพยาบาลศาสตร์', 'หลักสูตรพยาบาลศาสตรบัณฑิต', 'พยาบาลศาสตร์'],

        // โรงเรียนการท่องเที่ยวและการบริการ
        ['โรงเรียนการท่องเที่ยวและการบริการ', 'หลักสูตรศิลปศาสตรบัณฑิต', 'การท่องเที่ยว'],
        ['โรงเรียนการท่องเที่ยวและการบริการ', 'หลักสูตรศิลปศาสตรบัณฑิต', 'ธุรกิจการโรงแรม'],
        ['โรงเรียนการท่องเที่ยวและการบริการ', 'หลักสูตรศิลปศาสตรบัณฑิต', 'ธุรกิจการบิน'],
        ['โรงเรียนการท่องเที่ยวและการบริการ', 'หลักสูตรศิลปศาสตรบัณฑิต', 'ออกแบบนิทรรศการและการแสดง'],
        ['โรงเรียนการท่องเที่ยวและการบริการ', 'หลักสูตรศิลปศาสตรบัณฑิต', 'การจัดการงานบริการ (นานาชาติ)'],

        // โรงเรียนการเรือน
        ['โรงเรียนการเรือน', 'หลักสูตรวิทยาศาสตรบัณฑิต', 'เทคโนโลยีการแปรรูปอาหาร'],
        ['โรงเรียนการเรือน', 'หลักสูตรวิทยาศาสตรบัณฑิต', 'เทคโนโลยีการประกอบอาหารและบริการ'],
        ['โรงเรียนการเรือน', 'หลักสูตรศิลปศาสตรบัณฑิต', 'คหกรรมศาสตร์'],
        ['โรงเรียนการเรือน', 'หลักสูตรวิทยาศาสตรบัณฑิต', 'โภชนาการและการประกอบอาหาร'],
    ];

    // ------------------ เพิ่มข้อมูล ------------------
    $count = 0;
    foreach ($data as $row) {
        $stmt->execute([
            ':faculty' => $row[0],
            ':program' => $row[1],
            ':major'   => $row[2],
        ]);
        $count++;
    }

    echo "✅ Data inserted successfully ($count records).<br>";

} catch (PDOException $e) {
    echo "❌ Database error: " . $e->getMessage();
}